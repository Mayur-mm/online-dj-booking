(window.webpackJsonp=window.webpackJsonp||[]).push([[141],{C8wv:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{ref:"inputWrapper",staticClass:"input-field input",class:t.classes},[t.prependIcon?s("i-icon",{staticClass:"icon-left",attrs:{icon:t.prependIcon}}):t._e(),t._v(" "),s("masked-input",t._g({ref:"input",attrs:{placeholder:t.placeholder,value:t.value,mask:t.maskText||t.mask,disabled:t.readonly},on:{input:t.updateValue}},t.events)),t._v(" "),t.label?s("label",{class:{active:t.value&&t.value.length>0||t.isFocused},attrs:{for:t.id}},[t._v(t._s(t.label))]):t._e()],1),t._v(" "),s("div",[t.errorMessage?s("span",{staticClass:"helper-text"},[s("span",{staticClass:"arrow"}),t._v(" "),s("span",{domProps:{innerHTML:t._s(t.errorMessage)}})]):t._e()])])};i._withStripped=!0;s("zKZe");var n=s("QCF4"),a=s("pbPK"),r=s("Gppw"),o=s.n(r);s("4mDm"),s("E9XD"),s("3bBZ"),s("+2oP"),s("pDQq"),s("JfAA"),s("EnZy");function h(t,e){if(e)for(var s=Object.keys(e),i=0,n=s.length;i<n;i++)t[s[i]]=e[s[i]];return t}function l(t){return h({},t)}var u=/^\d$/,p=/^[A-Za-z]$/,c=/^[\dA-Za-z]$/,d={"*":{validate:function(t){return c.test(t)}},1:{validate:function(t){return u.test(t)}},a:{validate:function(t){return p.test(t)}},A:{validate:function(t){return p.test(t)},transform:function(t){return t.toUpperCase()}},"#":{validate:function(t){return c.test(t)},transform:function(t){return t.toUpperCase()}}};function f(t,e,s,i){if(!(this instanceof f))return new f(t,e,s);this.placeholderChar=s||"_",this.formatCharacters=e||d,this.source=t,this.pattern=[],this.length=0,this.firstEditableIndex=null,this.lastEditableIndex=null,this._editableIndices={},this.isRevealingMask=i||!1,this._parse()}function v(t){if(!(this instanceof v))return new v(t);if(null==(t=h({formatCharacters:null,pattern:null,isRevealingMask:!1,placeholderChar:"_",selection:{start:0,end:0},value:""},t)).pattern)throw new Error("InputMask: you must provide a pattern.");if("string"!=typeof t.placeholderChar||t.placeholderChar.length>1)throw new Error("InputMask: placeholderChar should be a single character or an empty string.");this.placeholderChar=t.placeholderChar,this.formatCharacters=function(t){var e=l(d);if(t)for(var s=Object.keys(t),i=0,n=s.length;i<n;i++){var a=s[i];null==t[a]?delete e[a]:e[a]=t[a]}return e}(t.formatCharacters),this.setPattern(t.pattern,{value:t.value,selection:t.selection,isRevealingMask:t.isRevealingMask})}f.prototype._parse=function(){for(var t=this.source.split(""),e=0,s=[],i=0,n=t.length;i<n;i++){var a=t[i];if("\\"===a){if(i===n-1)throw new Error("InputMask: pattern ends with a raw \\");a=t[++i]}else a in this.formatCharacters&&(null===this.firstEditableIndex&&(this.firstEditableIndex=e),this.lastEditableIndex=e,this._editableIndices[e]=!0);s.push(a),e++}if(null===this.firstEditableIndex)throw new Error('InputMask: pattern "'+this.source+'" does not contain any editable characters.');this.pattern=s,this.length=s.length},f.prototype.formatValue=function(t){for(var e=new Array(this.length),s=0,i=0,n=this.length;i<n;i++)if(this.isEditableIndex(i)){if(this.isRevealingMask&&t.length<=s&&!this.isValidAtIndex(t[s],i))break;e[i]=t.length>s&&this.isValidAtIndex(t[s],i)?this.transform(t[s],i):this.placeholderChar,s++}else e[i]=this.pattern[i],t.length>s&&t[s]===this.pattern[i]&&s++;return e},f.prototype.isEditableIndex=function(t){return!!this._editableIndices[t]},f.prototype.isValidAtIndex=function(t,e){return this.formatCharacters[this.pattern[e]].validate(t)},f.prototype.transform=function(t,e){var s=this.formatCharacters[this.pattern[e]];return"function"==typeof s.transform?s.transform(t):t},v.prototype.input=function(t){if(this.selection.start===this.selection.end&&this.selection.start===this.pattern.length)return!1;var e=l(this.selection),s=this.getValue(),i=this.selection.start;if(i<this.pattern.firstEditableIndex&&(i=this.pattern.firstEditableIndex),this.pattern.isEditableIndex(i)){if(!this.pattern.isValidAtIndex(t,i))return!1;this.value[i]=this.pattern.transform(t,i)}for(var n=this.selection.end-1;n>i;)this.pattern.isEditableIndex(n)&&(this.value[n]=this.placeholderChar),n--;for(this.selection.start=this.selection.end=i+1;this.pattern.length>this.selection.start&&!this.pattern.isEditableIndex(this.selection.start);)this.selection.start++,this.selection.end++;return null!=this._historyIndex&&(this._history.splice(this._historyIndex,this._history.length-this._historyIndex),this._historyIndex=null),"input"===this._lastOp&&e.start===e.end&&null===this._lastSelection||e.start===this._lastSelection.start||this._history.push({value:s,selection:e,lastOp:this._lastOp}),this._lastOp="input",this._lastSelection=l(this.selection),!0},v.prototype.backspace=function(){if(0===this.selection.start&&0===this.selection.end)return!1;var t=l(this.selection),e=this.getValue();if(this.selection.start===this.selection.end)this.pattern.isEditableIndex(this.selection.start-1)&&(this.value[this.selection.start-1]=this.placeholderChar),this.selection.start--,this.selection.end--;else{for(var s=this.selection.end-1;s>=this.selection.start;)this.pattern.isEditableIndex(s)&&(this.value[s]=this.placeholderChar),s--;this.selection.end=this.selection.start}return null!=this._historyIndex&&this._history.splice(this._historyIndex,this._history.length-this._historyIndex),"backspace"===this._lastOp&&t.start===t.end&&null===this._lastSelection||t.start===this._lastSelection.start||this._history.push({value:e,selection:t,lastOp:this._lastOp}),this._lastOp="backspace",this._lastSelection=l(this.selection),!0},v.prototype.paste=function(t){var e={value:this.value.slice(),selection:l(this.selection),_lastOp:this._lastOp,_history:this._history.slice(),_historyIndex:this._historyIndex,_lastSelection:l(this._lastSelection)};if(this.selection.start<this.pattern.firstEditableIndex){for(var s=0,i=this.pattern.firstEditableIndex-this.selection.start;s<i;s++)if(t.charAt(s)!==this.pattern.pattern[s])return!1;t=t.substring(this.pattern.firstEditableIndex-this.selection.start),this.selection.start=this.pattern.firstEditableIndex}for(s=0,i=t.length;s<i&&this.selection.start<=this.pattern.lastEditableIndex;s++){if(!this.input(t.charAt(s))){if(this.selection.start>0){var n=this.selection.start-1;if(!this.pattern.isEditableIndex(n)&&t.charAt(s)===this.pattern.pattern[n])continue}return h(this,e),!1}}return!0},v.prototype.undo=function(){if(0===this._history.length||0===this._historyIndex)return!1;var t;if(null==this._historyIndex){this._historyIndex=this._history.length-1,t=this._history[this._historyIndex];var e=this.getValue();t.value===e&&t.selection.start===this.selection.start&&t.selection.end===this.selection.end||this._history.push({value:e,selection:l(this.selection),lastOp:this._lastOp,startUndo:!0})}else t=this._history[--this._historyIndex];return this.value=t.value.split(""),this.selection=t.selection,this._lastOp=t.lastOp,!0},v.prototype.redo=function(){if(0===this._history.length||null==this._historyIndex)return!1;var t=this._history[++this._historyIndex];return this._historyIndex===this._history.length-1&&(this._historyIndex=null,t.startUndo&&this._history.pop()),this.value=t.value.split(""),this.selection=t.selection,this._lastOp=t.lastOp,!0},v.prototype.setPattern=function(t,e){e=h({selection:{start:0,end:0},value:""},e),this.pattern=new f(t,this.formatCharacters,this.placeholderChar,e.isRevealingMask),this.setValue(e.value),this.emptyValue=this.pattern.formatValue([]).join(""),this.selection=e.selection,this._resetHistory()},v.prototype.setSelection=function(t){if(this.selection=l(t),this.selection.start===this.selection.end){if(this.selection.start<this.pattern.firstEditableIndex)return this.selection.start=this.selection.end=this.pattern.firstEditableIndex,!0;for(var e=this.selection.start;e>=this.pattern.firstEditableIndex;){if(this.pattern.isEditableIndex(e-1)&&(this.value[e-1]!==this.placeholderChar||e===this.pattern.firstEditableIndex)){this.selection.start=this.selection.end=e;break}e--}return!0}return!1},v.prototype.setValue=function(t){t||(t=""),t=t.toString(),this.value=this.pattern.formatValue(t.split(""))},v.prototype.getValue=function(){return this.value.join("")},v.prototype.getRawValue=function(){for(var t=[],e=0;e<this.value.length;e++)!0===this.pattern._editableIndices[e]&&t.push(this.value[e]);return t.join("")},v.prototype._resetHistory=function(){this._history=[],this._historyIndex=null,this._lastOp=null,this._lastSelection=l(this.selection)},v.Pattern=f;var m=v;!function(){var t=window,e=t.document;function s(t){var e="focus"===t.type?"focusin":"focusout",s=new CustomEvent(e,{bubbles:!0,cancelable:!1});s.c1Generated=!0,t.target.dispatchEvent(s)}function i(t){t.c1Generated||(e.removeEventListener("focus",s,!0),e.removeEventListener("blur",s,!0),e.removeEventListener("focusin",i,!0),e.removeEventListener("focusout",i,!0)),setTimeout((function(){e.removeEventListener("focusin",i,!0),e.removeEventListener("focusout",i,!0)}))}void 0===t.onfocusin&&(e.addEventListener("focus",s,!0),e.addEventListener("blur",s,!0),e.addEventListener("focusin",i,!0),e.addEventListener("focusout",i,!0))}();var C={name:"MaskedInput",render(t){return t("input",{ref:"input",attrs:{disabled:null===this.maskCore||this.disabled},domProps:{value:this.value},on:{keydown:this.keyDown,keypress:this.keyPress,keyup:this.keyUp,textInput:this.textInput,mouseup:this.mouseUp,focusout:this.focusOut,cut:this.cut,copy:this.copy,paste:this.paste}})},data:()=>({marginLeft:0,maskCore:null,updateAfterAll:!1}),props:{value:{type:String},mask:{required:!0,validator:t=>!!(t&&t.length>=1||t instanceof Object)},placeholderChar:{type:String,default:"_",validator:t=>!(!t||1!==t.length)},disabled:{type:Boolean,default:!1}},watch:{mask(t,e){JSON.stringify(t)!==JSON.stringify(e)&&this.initMask()},value(t){this.maskCore&&(this.maskCore.setValue(t),this.updateToCoreState())}},mounted(){this.initMask()},methods:{initMask(){try{this.mask instanceof Object?this.maskCore=new m(this.mask):this.maskCore=new m({pattern:this.mask,value:"",placeholderChar:this.placeholderChar,formatCharacters:{a:{validate:t=>/^[A-Za-zА-Яа-я]$/.test(t)},A:{validate:t=>/^[A-Za-zА-Яа-я]$/.test(t),transform:t=>t.toUpperCase()},"*":{validate:t=>/^[\dA-Za-zА-Яа-я]$/.test(t)},"#":{validate:t=>/^[\dA-Za-zА-Яа-я]$/.test(t),transform:t=>t.toUpperCase()},"+":{validate:()=>!0}}}),[...this.$refs.input.value].reduce((t,e)=>this.maskCore.input(e),null),this.maskCore.setSelection({start:0,end:0}),""===this.$refs.input.value?this.$emit("input","",""):this.updateToCoreState()}catch(t){this.maskCore=null,this.$refs.input.value="Error",this.$emit("input",this.$refs.input.value,"")}},getValue(){return this.maskCore?this.maskCore.getValue():""},keyDown(t){if(null!==this.maskCore)switch(this.setNativeSelection(),t.keyCode){case 8:t.preventDefault(),(this.maskCore.selection.start>this.marginLeft||this.maskCore.selection.start!==this.maskCore.selection.end)&&(this.maskCore.backspace(),this.updateToCoreState());break;case 37:t.preventDefault(),this.$refs.input.selectionStart===this.$refs.input.selectionEnd&&(this.$refs.input.selectionStart-=1),this.maskCore.selection={start:this.$refs.input.selectionStart,end:this.$refs.input.selectionStart},this.updateToCoreState();break;case 39:t.preventDefault(),this.$refs.input.selectionStart===this.$refs.input.selectionEnd&&(this.$refs.input.selectionEnd+=1),this.maskCore.selection={start:this.$refs.input.selectionEnd,end:this.$refs.input.selectionEnd},this.updateToCoreState();break;case 35:t.preventDefault(),this.$refs.input.selectionStart=this.$refs.input.value.length,this.$refs.input.selectionEnd=this.$refs.input.value.length,this.maskCore.selection={start:this.$refs.input.selectionEnd,end:this.$refs.input.selectionEnd},this.updateToCoreState();break;case 36:t.preventDefault(),this.$refs.input.selectionStart=0,this.$refs.input.selectionEnd=0,this.maskCore.selection={start:this.$refs.input.selectionStart,end:this.$refs.input.selectionStart},this.updateToCoreState();break;case 46:t.preventDefault(),this.$refs.input.selectionStart===this.$refs.input.selectionEnd?(this.maskCore.setValue(""),this.maskCore.setSelection({start:0,end:0}),this.$refs.input.selectionStart=this.maskCore.selection.start,this.$refs.input.selectionEnd=this.maskCore.selection.start):this.maskCore.backspace(),this.updateToCoreState()}else t.preventDefault()},keyPress(t){if(!t.ctrlKey){var e=!!document.documentMode,s="undefined"!=typeof InstallTrigger;(e||s)&&(t.preventDefault(),t.data=t.key,this.textInput(t))}},textInput(t){t.preventDefault&&t.preventDefault(),this.maskCore.input(t.data)&&(this.updateAfterAll=!0),this.updateToCoreState()},keyUp(t){9!==t.keyCode&&(this.updateToCoreState(),this.updateAfterAll=!1)},cut(t){if(t.preventDefault(),this.$refs.input.selectionStart!==this.$refs.input.selectionEnd){try{document.execCommand("copy")}catch(t){}this.maskCore.backspace(),this.updateToCoreState()}},copy(){},paste(t){t.preventDefault(),[...t.clipboardData.getData("text")].reduce((t,e)=>this.maskCore.input(e),null),this.updateToCoreState()},updateToCoreState(){null!==this.maskCore&&(this.$refs.input.value!==this.maskCore.getValue()&&(this.$refs.input.value=this.maskCore.getValue(),this.$emit("input",this.$refs.input.value,this.maskCore.getRawValue())),this.$refs.input.selectionStart=this.maskCore.selection.start,this.$refs.input.selectionEnd=this.maskCore.selection.end)},isEmpty(){return null===this.maskCore||this.maskCore.getValue()===this.maskCore.emptyValue},focusOut(){this.isEmpty()&&(this.$refs.input.value="",this.maskCore.setSelection({start:0,end:0}),this.$emit("input","",""))},setNativeSelection(){this.maskCore.selection={start:this.$refs.input.selectionStart,end:this.$refs.input.selectionEnd}},mouseUp(){this.isEmpty()&&this.$refs.input.selectionStart===this.$refs.input.selectionEnd?(this.maskCore.setSelection({start:0,end:0}),this.$refs.input.selectionStart=this.maskCore.selection.start,this.$refs.input.selectionEnd=this.maskCore.selection.start,this.marginLeft=this.maskCore.selection.start,this.updateToCoreState()):this.setNativeSelection()}}},k={name:"IMaskedText",extends:n.a,mixins:[a.a],components:{MaskedInput:C},props:{appendIcon:String,prependIcon:String,label:String,mask:[String,Object],maskText:String,value:[String,Number,Array],required:Boolean,placeholder:String,disabled:Boolean,hidden:Boolean,readonly:Boolean},data:function(){return{id:o()().str,isFocused:!1}},mounted:function(){this.inputInit()},methods:{focus:function(){this.input.focus()},onFocus:function(t){this.isFocused=!0,this.$emit("focus",t)},onBlur:function(t){this.isFocused=!1,this.$emit("blur",t)},updateValue:function(t){this.$emit("input",t),this.$emit("onChange",t)},updateToCoreState:function(){this.$refs.input.updateToCoreState()},setInputClasses:function(){this.input.classList.add("f-input"),this.disabled&&this.input.classList.add("disabled"),this.hidden&&this.input.classList.add("hidden")},inputInit:function(){for(var t in this.setInputClasses(),this.events)this.input.addEventListener(t,this.events[t],!1);this.input.setAttribute("id",this.id),this.input.setAttribute("tabindex",this.localTabIndex),this.input.setAttribute("required",this.required),this.input.setAttribute("disabled",this.disabled)}},computed:{input(){return this.$refs.input.$refs.input},inputValue:{get(){return this.input.value},cache:!1},classes:function(){var t={"invalid-input-wrapper":this.errorMessage,"success-input-wrapper":!this.errorMessage};return this.prependIcon&&(t["prepend-icon"]=!0),this.appendIcon&&(t["append-icon"]=!0),t},events:function(){var t=Object.assign({},this.$listeners);return t.input=this.updateValue,t.focus=this.onFocus,t.blur=this.onBlur,t}}},y=(s("SaTZ"),s("KHd+")),b=Object(y.a)(k,i,[],!1,null,"90d4d04c",null);b.options.__file="src/designcomponents/components/IMaskedText.vue";e.default=b.exports},SaTZ:function(t,e,s){"use strict";s("nSTa")},nSTa:function(t,e,s){var i=s("LboF"),n=s("pWRh");"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[t.i,n,""]]);var a={insert:"head",singleton:!1};i(n,a);t.exports=n.locals||{}},pWRh:function(t,e,s){}}]);