(window.webpackJsonp=window.webpackJsonp||[]).push([[101],{"+CVF":function(e,t,i){var r=i("LboF"),o=i("yncD");"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var s={insert:"head",singleton:!1};r(o,s);e.exports=o.locals||{}},"5fGX":function(e,t,i){"use strict";i("+CVF")},"6X/N":function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isPreview||e.openNewTab?i("div",[i("div",{staticClass:"responsive-preview"},[i("div",{staticClass:"back-formbuilder"},[i("router-link",{attrs:{to:{name:"FormCreate"}}},[i("i-icon",{attrs:{icon:"arrow-left"}})],1)],1),e._v(" "),e.isPreview?i("div",{staticClass:"responsive-band"},[e.$root.isMobile?[i("h4",[e._v(e._s(e.$t("formbuilderPreview.previewTitle")))])]:[i("i-radio",{attrs:{value:"desktop"},model:{value:e.preview.selectedDevice,callback:function(t){e.$set(e.preview,"selectedDevice",t)},expression:"preview.selectedDevice"}},[i("i-icon",{attrs:{icon:"desktop"}}),e._v(" "),i("p",[e._v(e._s(e.$t("desktop")))])],1),e._v(" "),i("i-radio",{attrs:{value:"tablet devices"},model:{value:e.preview.selectedDevice,callback:function(t){e.$set(e.preview,"selectedDevice",t)},expression:"preview.selectedDevice"}},[i("i-icon",{attrs:{icon:"tablet"}}),e._v(" "),i("p",[e._v(e._s(e.$t("tablet")))])],1),e._v(" "),i("i-radio",{attrs:{value:"mobile devices"},model:{value:e.preview.selectedDevice,callback:function(t){e.$set(e.preview,"selectedDevice",t)},expression:"preview.selectedDevice"}},[i("i-icon",{attrs:{icon:"mobile"}}),e._v(" "),i("p",[e._v(e._s(e.$t("mobile")))])],1)]],2):e._e(),e._v(" "),e.isPreview?i("div",{staticClass:"open-new-window"},[i("OpenNewWindow",{staticClass:"share-input-action-btn-item",attrs:{url:e.formShareUrl}})],1):e._e()]),e._v(" "),i("div",{class:e.preview.selectedDevice},[i("iframe",{staticClass:"form-preview-frame",attrs:{width:"100%",height:"100%",frameborder:"0",src:e.$route.path+"?localData=true"}})])]):i("div",{staticClass:"content",class:{"sidebar-open":e.sidebars.user.isOpen,"iframe-view":e.$root.isIframe,flex:e.isFlex,"card-design":e.isCardDesign,"welcome-page":!0===e.showWelcomePage,"thankyou-page":!0===e.showThankYouPage},attrs:{id:"form-content"}},[e.$route.query.ref?i("div",{staticClass:"back-button-wrapper"},[i("i-button",{staticClass:"back-button",attrs:{"prepend-icon":"arrow-left",naked:""},on:{click:e.onBackClick}},[e._v(e._s(e.$t("backToTheForm")))])],1):e._e(),e._v(" "),i("div",[i("div",{staticClass:"general-content",class:{embedded:e.$root.isIframe}},[null!==e.formModel?[i("transition",{attrs:{name:"fade",mode:"out-in"},on:{afterLeave:function(t){e.isFlex=!0===e.showThankYouPage||!0===e.showWelcomePage||!0===e.publishDateSettingsEnabled}}},[!0===e.showWelcomePage?i("div",{key:"welcome-page",staticClass:"form-view-content"},[i("WelcomePage",{attrs:{formModel:e.formModel,welcomePageSettings:e.formModel.welcomePageSettings},on:{clicked:e.onClickChild}})],1):!0===e.showThankYouPage?i("div",{key:"thankyou-page",staticClass:"form-view-content"},[i("ThankYouPage",{attrs:{formModel:e.formModel,resultData:e.thankYouPageData}})],1):i("div",{key:"actual-form",staticClass:"form view",class:{rtl:e.formModel.baseSettings&&e.formModel.baseSettings.isRtl}},[""!==e.infoMsg?i("i-alert",{attrs:{type:"info",sticky:!0}},[i("span",{domProps:{innerHTML:e._s(e.infoMsg)}})]):e._e(),e._v(" "),i("div",{staticClass:"form-body",class:{"alert-form":""!==e.infoMsg}},[i("i-form",{ref:"form",attrs:{formModel:e.formModel,scrollToQuestionId:e.scrollToQuestionId,invalidQuestions:e.invalidQuestions}},[e.hasServerSideError?i("i-alert",{staticClass:"error-alert",attrs:{type:"error"}},[i("ol",e._l(e.error.errors,(function(t,r){return i("li",{key:r},[e._v("\n\t\t\t\t\t\t\t\t\t\t\t"+e._s(e.serverSideErrorLocalization(t))+"\n\t\t\t\t\t\t\t\t\t\t")])})),0),e._v(" "),302===e.error.errorCode?i("FormViewQuotaExceeded",{staticClass:"form-view-content",attrs:{formError:e.error,forAnswer:!0}}):e.error.errors?e._e():i("span",[e._v("\n\t\t\t\t\t\t\t\t\t\t"+e._s(e.$t("notification.anErrorOccurred"))+"\n\t\t\t\t\t\t\t\t\t")]),e._v(" "),i("div",{staticClass:"close-alert",on:{click:e.alertClose}},[i("i-icon",{attrs:{icon:"times"}})],1)],1):e._e(),e._v(" "),e.ownerUser.userInfo?i("div",{staticClass:"avatar-wrapper",on:{click:function(t){return e.sidebarStatusChange(!e.sidebars.user.isOpen)}}},[i("vue-avatar",{attrs:{src:e.ownerUser.userInfo.photo?e.ownerUserPhoto:"",username:e.ownerUser.userInfo.username||"",color:"white",rounded:"",size:e.$root.isMobile?24:32}})],1):e._e(),e._v(" "),!1===e.isFormLoading?[e.isCardDesign?e._e():i("FormHeader",{attrs:{formModel:e.baseFormData}}),e._v(" "),i("div",{staticClass:"big-question-wrapper"},e._l(e.formModel.questions,(function(t,r){return"submitbutton"===t.questionType||t.isDeleted||t.hidden?e._e():i("QuestionView",{key:r,class:e.isCardDesign&&{top:t.displayOrder<e.currentQuestion.questionModel.displayOrder,current:t.displayOrder===e.currentQuestion.questionModel.displayOrder,bottom:t.displayOrder>e.currentQuestion.questionModel.displayOrder,transparent:e.submitButtonVisibleForCardDesign},attrs:{questionModel:t,hideQuestionNumber:e.formModel.baseSettings.hideQuestionNumber,type:"view",id:t._id,index:r,form:e.baseFormData}},[i("componentinput"+t.questionType.toLowerCase(),{ref:"questions",refInFor:!0,tag:"component",staticClass:"question-wrapper",class:{required:t.isRequired},attrs:{questionModel:t,formModel:e.formModel,onVerify:e.onVerify,onExpired:e.onExpired,"data-order":t.viewHelpers.questionNumber,readonly:t.readonly,setAppVueVariable:e.setAppVueVariable},on:{onSubmit:e.onSubmit,onInput:e.onEveryQuestionInput,onFocus:e.onFocusQuestion,onMounted:e.onQuestionMounted,runFormValidation:e.onRunFormValidation,nextQuestion:e.scrollToNextQuestion}}),e._v(" "),e.isCardDesign&&e.formModel.questions?[i("div",{staticClass:"card-design-next-wrapper",class:{active:!t.isRequired&&!e.submitButtonVisibleForCardDesign},attrs:{id:"cdnext-"+t._id}},[i("div",{staticClass:"card-design-next-button"},[e.$root.isMobile?e._e():i("span",{domProps:{innerHTML:e._s(e.$t("formbuilder.viewType.pressEnter"))}}),e._v(" "),i("i-button",{attrs:{appendIcon:"arrow-right",solid:""},on:{click:e.validateAndNextQuestion}},[i("p",{domProps:{innerHTML:e._s(e.$t("next"))}})])],1)])]:e._e()],2)})),1),e._v(" "),e.formModel.directMessageSettings&&e.formModel.directMessageSettings.whatsapp&&e.formModel.directMessageSettings.whatsapp.isEnable?i("WhatsappDmComponent",{attrs:{dmData:e.formModel.directMessageSettings.whatsapp}}):e._e(),e._v(" "),e.formModel.questions&&e.isAnswerableForm&&!e.isCardDesign?i("componentinputsubmitbutton",{ref:"submitButton",tag:"component",attrs:{formModel:e.formModel,isLoading:e.submitButtonLoading||!!e.disableSubmitButton,disabled:e.disableSubmitButton,onVerify:e.onVerify,onExpired:e.onExpired,reCaptcha:e.reCaptcha},on:{onSubmit:e.onSubmit}}):e._e()]:e._e()],2),e._v(" "),e.isCardDesign&&e.formModel.questions&&e.isAnswerableForm?i("componentinputsubmitbutton",{ref:"submitButton",tag:"component",attrs:{formModel:e.formModel,visibleForCardDesign:e.submitButtonVisibleForCardDesign,isLoading:e.submitButtonLoading||!!e.disableSubmitButton,disabled:e.disableSubmitButton,onVerify:e.onVerify,onExpired:e.onExpired,reCaptcha:e.reCaptcha},on:{onSubmit:e.onSubmit}}):e._e(),e._v(" "),i("i-popup",{attrs:{closingDisallow:""},model:{value:e.verifyingLocation,callback:function(t){e.verifyingLocation=t},expression:"verifyingLocation"}},[i("div",{staticClass:"location-popup"},[i("span",{domProps:{innerHTML:e._s(e.$t("locationVerifying"))}}),e._v(" "),i("i-preloader")],1)]),e._v(" "),e.isCardDesign?i("CardDesignFooter",{directives:[{name:"show",rawName:"v-show",value:!e.$root.isMobileKeyboardOpen&&0===e.$root.openPopupCount,expression:"!$root.isMobileKeyboardOpen && $root.openPopupCount === 0"}],attrs:{formModel:e.formModel,cardDesign:e.cardDesign,cardDesignPercent:e.cardDesignPercent,lastQuestionNumber:e.lastQuestionNumber,prevQuestion:e.scrollToPrevQuestion,nextQuestion:e.scrollToNextQuestion}}):e._e()],1),e._v(" "),!e.formModel.baseSettings||e.formModel.baseSettings.removeBranding||e.isCardDesign?e._e():i("FormBuilderBrandFooter",{class:{"no-margin":e.showThankYouPage||e.showWelcomePage}})],1)])]:[i("div",{staticClass:"intermediate-page-wrapper"},[e.formErrorData.removeBranding?e._e():i("div",{staticClass:"brand-logo"},[i("a",{staticClass:"powered",attrs:{target:"_blank",href:"https://forms.app"}},[i("img",{attrs:{src:e.logo,alt:"forms.app"}})])]),e._v(" "),i("div",{staticClass:"intermediate-page-layout"},[e.formError&&403===e.formError.status?[e.publishDateSettingsEnabled?i("FormViewQuotaExceeded",{staticClass:"form-view-content",attrs:{src:"/static/img/form-disable.png",formError:e.formError.data}}):e.formError.data?[void 0===e.formError.data.isOwner?i("FormViewInaccessible",{attrs:{src:"/static/img/form-disable.png",text:e.$t("quotaExeeded.formViewGeneric")}}):e.formError.data.isOwner?i("FormViewInaccessible",{attrs:{src:"/static/img/form-disable.png",text:e.$t("quotaExeeded.formViewOwner")}}):i("FormViewInaccessible",{attrs:{src:"/static/img/form-disable.png",text:e.$t("quotaExeeded.formViewGeneric")}})]:i("FormViewInaccessible",{attrs:{src:"/static/img/form-disable.png",text:e.$t("quotaExeeded.formViewGeneric")}})]:e.formError&&401===e.formError.status?[i("FormViewInaccessible",{attrs:{src:"/static/img/form-shared.png",text:e.formError.data.message}})]:e.formError&&504===e.formError.status?[i("FormViewInaccessible",{attrs:{src:"/static/img/form-shared.png",text:e.$t("serverTimeout")}})]:e.formError&&e.formError.status>500?[i("FormViewInaccessible",{attrs:{src:"/static/img/form-shared.png",text:e.$t("notification.anErrorOccurred")}})]:[i("FormViewInaccessible",{attrs:{src:"/static/img/form-found.png",text:e.$t("formNotFound")}})],e._v(" "),e.formErrorData.removeBranding?e._e():i("div",{staticClass:"brand-button"},[i("a",{staticClass:"create-own-btn",attrs:{href:e.mainBaseUrl+"/myforms",target:"_blank"}},[i("span",[i("i-icon",{attrs:{icon:"plus"}})],1),e._v(" "),i("p",[e._v(e._s(e.$t("createYourOwnForm")))])])])],2)])]],2)])])};r._withStripped=!0;i("yXV3"),i("4mDm"),i("+2oP"),i("pDQq"),i("5s+n"),i("UxlC"),i("EnZy"),i("3bBZ");var o=i("yXPU"),s=i.n(o),n=i("luLf"),a=i("J9Y1"),d=i.n(a),l={"google-analytics":{init:function(e,t){window["ga-disable-".concat(e)]=!1,window.ga&&(window.ga("create",e,"auto",t._id),window.ga("".concat(t._id,".send"),"pageview",location.pathname))},remove:function(e,t){window["ga-disable-".concat(e)]=!0},callback:function(e,t,i){window.ga&&window.ga("".concat(t._id,".send"),{hitType:"event",eventCategory:"Form",eventAction:"submission",eventLabel:t.title,value:i,nonInteraction:!0})}},"google-analytics-4":{init:c("google-analytics-4").init,remove:c("google-analytics-4").remove,callback:c("google-analytics-4").callback},"google-conversion":{init:c("google-ads").init,remove:c("google-ads").remove,callback:c("google-ads").callback}};function c(e){return{init:function(t,i){var r="id="+t.split("/")[0];if(!document.getElementById(e)){var o=document.getElementsByTagName("head")[0],s=document.createElement("script");s.src="https://www.googletagmanager.com/gtag/js?"+r,s.async=!0,s.defer=!0,s.id=e,s.onload=()=>{window.dataLayer=window.dataLayer||[],window.gtag||(window.gtag=function(){window.dataLayer.push(arguments)}),window.gtag("js",new Date),window.gtag("config",t)},o.appendChild(s)}},remove:function(e,t){},callback:function(e,t){window.gtag&&window.gtag("event","conversion",{send_to:e,event_callback:()=>{}})}}}var u=i("ezhA"),m=i("mckT"),f=i("CMeD"),h=i("Y8gT"),g=i("NRfZ"),p=i("tL2h"),v=i("lhJi"),w=i("K/kh"),b=i("sERy"),y=i("ttAG"),M=i("kdFr"),C=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"intermediate-page"},[e.forAnswer?[i("div",{staticClass:"indermediate-text"},[e.formError.wysiwyg&&""!==e.formError.wysiwyg?i("h3",[e._v(e._s(e.formError.wysiwyg))]):i("h3",[e._v(e._s(e.errorEnums("quota."+e.formError.errorCode)))])]),e._v(" "),e.showRedirectButton?i("div",[i("i-button",{on:{click:e.onClickButton}},[e._v(e._s(e.redirectButtonText))])],1):e._e()]:[e.messageTitle?i("div",[i("div",{staticClass:"count-form",domProps:{innerHTML:e._s(e.messageTitle)}}),e._v(" "),i("br")]):e._e(),e._v(" "),e.formError.remainingSeconds?e._e():i("img",{staticClass:"indermediate",attrs:{src:e.src,alt:""}}),e._v(" "),i("div",{staticClass:"indermediate-text",domProps:{innerHTML:e._s(e.formError.wysiwyg&&""!==e.formError.wysiwyg?e.formError.wysiwyg:e.errorEnums("quota."+e.formError.errorCode))}}),e._v(" "),e.showRedirectButton?i("div",{staticClass:"redirect-button"},[i("i-button",{attrs:{"append-icon":"angle-right"},on:{click:e.onClickButton}},[e._v(e._s(e.redirectButtonText))])],1):e._e()]],2)};C._withStripped=!0;i("JTJg"),i("SYor");var S=i("RuLz"),_=i("7flI"),E={name:"FormViewQuotaExceeded",props:{formError:Object,forAnswer:Boolean,src:""},data:function(){return{messageTitle:void 0,showRedirectButton:!1,redirectButtonText:this.$t("continue"),errorEnums:n.a}},mounted:function(){if(this.formError.redirectUrl&&(""!==this.formError.redirectUrl.trim()&&(this.showRedirectButton=!0,this.formError.redirectButtonText))){var e=this.formError.redirectButtonText.trim();""!==e&&(this.redirectButtonText=e)}if(this.formError.designSettings&&this.formError.remainingSeconds){var t=_.a.generateFormDesignRule(this.formError.designSettings,this.formError._id,this.formError.formTempFiles);y.default.injectCss(t)}if(this.formError.remainingSeconds){var i=parseInt(this.formError.remainingSeconds);setInterval(()=>{var e=this.secondToDateDetails(i--);i<1?this.$router.go(this.$router.currentRoute):(this.messageTitle="",e.days>0&&(this.messageTitle+='<div class="count-item">'+e.days+"<span>"+this.$t("days")+"</span></div>"),e.hours>0&&(this.messageTitle+='<div class="count-item">'+e.hours+"<span>"+this.$t("hours")+"</span> </div>"),e.minutes>0&&(this.messageTitle+='<div class="count-item">'+e.minutes+"<span>"+this.$t("minutes")+"</span> </div>"),this.messageTitle+='<div class="count-item">'+e.seconds+"<span>"+this.$t("seconds")+"</span> </div>")},1e3)}this.formError.wysiwyg&&(this.formError.wysiwyg=S.a.bbcodeToHtml(this.formError.wysiwyg,this.formError.formId))},methods:{onClickButton(){this.$router.push({name:"ExternalUrlRedirect",query:{url:this.formError.redirectUrl}})},secondToDateDetails(e){var t=Math.floor(e/86400);e-=3600*t*24;var i=Math.floor(e/3600);e-=3600*i;var r=Math.floor(e/60);return{days:t,hours:i,minutes:r,seconds:e-=60*r}}},computed:{isShowFormDisableImage(){return!this.formError.wysiwyg||!this.formError.wysiwyg.includes("iframe")&&!this.formError.wysiwyg.includes("img")}}},T=(i("CJ+B"),i("KHd+")),q=Object(T.a)(E,C,[],!1,null,"ce513b2a",null);q.options.__file="src/form/components/FormViewQuotaExceeded.vue";var k=q.exports,$=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"intermediate-page"},[t("div",{staticClass:"intermediate-elements"},[t("img",{attrs:{src:this.src,alt:"Form Inaccessible"}}),this._v(" "),t("h3",{staticClass:"formview-inaccessible-text",domProps:{innerHTML:this._s(this.text)}})])])};$._withStripped=!0;var I={name:"FormViewInaccessible",props:["src","text"]},x=(i("ISEw"),Object(T.a)(I,$,[],!1,null,"18209f4b",null));x.options.__file="src/form/components/FormViewInaccessible.vue";var F=x.exports,D=i("j2RM"),A=i("NcpN"),B=i("iAnd"),L=function(){var e=this.$createElement;return(this._self._c||e)("i-button",{staticClass:"whatsapp-icon",class:{"no-margin":!this.$root.isMobile},attrs:{naked:"",href:this.redirectLink,target:"_blank","prepend-icon":"whatsapp",brands:""}})};L._withStripped=!0;var P={name:"Whatsapp",props:{icon:String,dmData:{}},data:function(){return{redirectLink:""}},created:function(){this.redirectLink="https://api.whatsapp.com/send?phone="+this.dmData.phone+"&text="+window.location.href}},V=(i("zAyf"),Object(T.a)(P,L,[],!1,null,"8505d404",null));V.options.__file="src/form/components/formbuilder/advanced/directmessages/Whatsapp.vue";var Q=V.exports,R=i("4v4t"),N=i("mSNy"),O={facebook:{init:function(e){var t=e.locale||"en_US",i=document.getElementsByTagName("head")[0],r=document.createElement("script");r.src="https://connect.facebook.net/"+t+"/sdk/xfbml.customerchat.js",r.async=!0,r.defer=!0,r.id="facebook-jssdk",i.appendChild(r),window.fbAsyncInit=function(){var t=document.getElementsByTagName("body")[0],i=document.createElement("div");i.classList.add("fb-customerchat"),i.setAttribute("page_id",e.pageId),e.color&&i.setAttribute("theme_color",e.color),t.appendChild(i),window.FB.init({appId:e.appId,autoLogAppEvents:!0,xfbml:!0,version:"v3.2"})}}}},U=w.a.getAllQuestionTypes();D.a.WelcomePage=()=>Promise.all([i.e(26),i.e(19),i.e(13),i.e(5),i.e(9),i.e(39),i.e(161)]).then(i.bind(null,"na3H")),D.a.ThankYouPage=()=>Promise.all([i.e(26),i.e(19),i.e(13),i.e(5),i.e(9),i.e(39),i.e(161)]).then(i.bind(null,"BNa0")),D.a.FormBuilderBrandFooter=()=>Promise.all([i.e(170),i.e(93)]).then(i.bind(null,"kpqh")),D.a.CardDesignFooter=()=>Promise.all([i.e(170),i.e(93)]).then(i.bind(null,"93++")),D.a.FormViewQuotaExceeded=k,D.a.FormViewInaccessible=F,D.a.CopyToClipboard=f.a,D.a.OpenNewWindow=h.a,D.a.WhatsappDmComponent=Q,D.a.QuestionView=u.a,D.a.FormHeader=m.a;var H,W,G,J,Y=!1,j={name:"FormView",components:D.a,mixins:[R.a],props:{setAppVueVariable:Function},data:()=>({isFlex:!1,ownerUser:{userInfo:null},sidebars:{user:{isOpen:!1}},submitButtonLoading:!1,error:{},hasServerSideError:!1,valid:!0,formModel:{questions:[]},showWelcomePage:!1,showThankYouPage:!1,reCaptcha:{verification:null,isOk:null,version:3},formError:{},disableSubmitButton:null,verifyingLocation:!1,infoMsg:"",v3Token:{token:null,isSubmittedBefore:!1},isFormLoading:!0,preview:{selectedDevice:"desktop",isOpen:!1},conditions:{},conditionsTimeout:null,firstAnswers:[],mountedsetTimeout:null,questionTypes:U,BbCode:S.a,publicId:"",thankYouPageData:{publicId:""},paymentSuccessful:!1,baseFormData:{questions:[]},startingDate:null,openNewTab:!1}),mounted:function(){(this.isAnswerableForm&&(window.onload=()=>{this.formModel&&(this.firstAnswers=JSON.stringify(this.formModel.questions.map(e=>e.answer)))}),document.getElementById("formsAppFbBtnBody")&&document.getElementById("formsAppFbBtnBody").remove(),parent&&parent.postMessage&&this.$root.isIframe&&!this.isCardDesign)&&new(window.MutationObserver||window.WebKitMutationObserver)(()=>{var e=document.body,t=document.documentElement,i=0;i=document.height?document.height:Math.max(e.scrollHeight,e.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight),parent.postMessage("formsapp-setHeight:"+JSON.stringify({id:this.id,height:i}),"*")}).observe(document,{attributes:!0,childList:!0,subtree:!0,characterData:!0})},methods:{calculateCompleteTimeSeconds:function(){var e=(new Date).getTime()-this.startingDate.getTime();return Math.floor(e/1e3)},alertClose:function(){document.querySelector(".error-alert").remove()},onBackClick:function(){window.history.back(),window.close()},fixQuestionNumbers:function(){var e=0;this.formModel.questions.forEach((t,i)=>{if(!0!==t.hidden){var r=U[t.questionType];r&&r.fixQuestionNumber?e=r.fixQuestionNumber(e,t):e++,this.$set(this.formModel.questions[i],"viewHelpers",{questionNumber:e})}}),this.currentQuestion&&setTimeout(()=>{this.scrollToQuestionId(this.currentQuestion.questionModel._id,!1)},10)},executeConditionLogic:function(e){return new Function("questions",e)(this.formModel.questionsMap)},onQuestionMounted:function(e){this.checkIfQuestionTriggered(e)},onEveryQuestionInput:function(e){clearTimeout(this.conditionsTimeout),this.conditionsTimeout=setTimeout(()=>{this.checkIfQuestionTriggered(e),this.isCardDesign&&this.$nextTick(()=>{if(!y.default.isEmpty(e.answer)&&this.currentQuestion&&this.currentQuestion.questionModel&&this.currentQuestion.questionModel._id===e._id){var t=e.questionType,i=(e[e.questionType]||{}).subType,r=null;(r=i&&U[i]&&U[i].nextQuestionOnInput?U[i].nextQuestionOnInput:U[t].nextQuestionOnInput)&&r(e)?setTimeout(()=>{this.scrollToNextQuestion(),this.toggleNextButtonForCardDesign(e)},450):this.toggleNextButtonForCardDesign(e)}else this.toggleNextButtonForCardDesign(e)})},300)},toggleNextButtonForCardDesign:function(e){this.isCardDesign&&!this.submitButtonVisibleForCardDesign&&this.$nextTick(()=>{var t=document.getElementById("cdnext-"+e._id);t&&(y.default.isEmpty(e.answer)?e.isRequired&&t.classList.remove("active"):t.classList.add("active"))})},onFocusQuestion:function(e){this.isCardDesign&&this.scrollToQuestionId(e._id)},checkIfQuestionTriggered:function(){var e={};this.formModel.questions.forEach(t=>{t.conditions&&t.conditions.forEach(t=>{for(var i=0;i<t.actions.length;i++){var r=t.actions[i];if(r.targetQuestionId&&r.action){var o=this.formModel.questionsMap[r.targetQuestionId],s=this.executeConditionLogic(t.code);e[o._id]||(e[o._id]={isTriggered:!1,action:""}),s?(e[o._id].action=r.action,e[o._id].isTriggered=!0):e[o._id].isTriggered||(e[o._id].action="hide"===r.action?"show":"hide")}}})});var t=!1;for(var i in e){var r=this.formModel.questionsMap[i],o=void 0!==r.forceHidden?r.forceHidden:"hide"===e[i].action;if(r.hidden!==o){r.hidden=o,t=!0;var s=r.questionType,n=(r[r.questionType]||{}).subType;if(o)this.$delete(r,"answer");else{var a=null;(a=n&&U[n]&&U[n].getDefaultAnswer?U[n].getDefaultAnswer:U[s].getDefaultAnswer)&&this.$set(r,"answer",a(r,this.formModel))}this.executeRelatedCondition(this.formModel,r)}}t&&this.checkIfQuestionTriggered(),this.fixQuestionNumbers()},onRunFormValidation:function(){this.hasServerSideError&&(this.resetValidationRules(),this.hasServerSideError=!1,this.$refs.form.validate())},getToken:(J=s()((function*(e){if(window.grecaptcha&&window.grecaptcha.execute)try{this.v3Token.token=yield window.grecaptcha.execute(g.a.reChaptcha.v3.siteKey,{action:"".concat(this.formModel._id,"_submission")})}catch(e){}finally{this.v3Token.isSubmittedBefore=!1,this.disableSubmitButton=null}else e||setTimeout(()=>{this.getToken(!0)},700)})),function(e){return J.apply(this,arguments)}),onVerify:function(e){this.reCaptcha.verification=!0,this.reCaptcha.isOk=!0,this.formModel.captcha=e},onExpired:function(){this.reCaptcha.isOk=!1,this.reCaptcha.verification=!1,this.formModel.captcha=void 0},onClickChild(e){this.showWelcomePage=e,this.isCardDesign&&setTimeout(()=>{e||this.initCardDesign()},300),y.default.fixedExternalRedirectUrl()},getDefaultValidationRules:function(e){var t={};return e.forEach(e=>{var i=U[e.questionType],r=[];if(i&&i.createValidationRules){var o=i.createValidationRules(e);Array.isArray(o)?r.push(...o.slice()):r=o}t[e._id]=r}),t},resetValidationRules:function(){var e=this.getDefaultValidationRules(this.formModel.questions);for(var t in this.formModel.validationRules){var i=e[t],r=this.formModel.validationRules[t];if(Array.isArray(r))(r=[]).push(...i.slice());else for(var o in r)Array.isArray(r)?(r[o]=[],r[o].push(...i[o].slice())):r[o]=i[o];this.formModel.validationRules[t]=r}},goToSignIn:function(){g.a.isFormProfileSubDomain?window.location.href=g.a.mainBaseUrl+"/auth/signin?redirect="+this.$route.fullPath+"%23formview":this.$router.push({name:"SignIn",query:{redirect:this.$route.fullPath+"#formview"}})},onSubmit:(G=s()((function*(){var e=this;if(this.isLocalData&&this.formModel.afterSubmissionSettings)return this.showThankYouPage=!0,this.destroyCardDesign(),void y.default.fixedExternalRedirectUrl();if(!0!==this.submitButtonLoading)if(this.submitButtonLoading=!0,this.formModel.answerFiles=[],this.$auth.isAuthenticated()||!this.formModel.baseSettings.requireLoginForSubmission||this.formModel.baseSettings.showLoginBeforeForm){if(this.v3Token.isSubmittedBefore&&(yield this.getToken()),null===this.disableSubmitButton&&(null!==this.reCaptcha.verification&&(this.reCaptcha.isOk=this.reCaptcha.verification),(!0===this.reCaptcha.isOk||null===this.reCaptcha.isOk)&&(this.resetValidationRules(),this.hasServerSideError=!1,this.$refs.form.validate()))){var t="en";this.ownerUser.userInfo&&this.ownerUser.userInfo.language&&(t=this.ownerUser.userInfo.language),this.v3Token.isSubmittedBefore=!0,this.formModel.completeSecond=this.calculateCompleteTimeSeconds();var i=yield b.a.saveAnswer(this.formModel,this.v3Token.token,t,2===this.reCaptcha.version&&this.reCaptcha.verification);if(i.success){var r=i.payload;if(M.a.removeItem("formAnswers-".concat(this.formModel._id)),this.thankYouPageData.publicId=r.publicId,r.calculator&&(this.thankYouPageData.calculator=r.calculator),this.formModel.conversionCodes&&Array.isArray(this.formModel.conversionCodes.remarketing))for(var o=0;o<this.formModel.conversionCodes.remarketing.length;o++){var s=this.formModel.conversionCodes.remarketing[o];s&&s.provider&&l[s.provider]&&l[s.provider].callback(s.code,this.formModel,r.publicId)}if(r.redirectUrl)r.redirectUrl.indexOf(window.location.origin)>-1&&r.redirectUrl.indexOf("externalpayment")<0?this.$router.push({path:r.redirectUrl.replace(window.location.origin,"")}):this.$router.push({name:"ExternalUrlRedirect",query:{url:r.redirectUrl}});else{window.onbeforeunload=null,M.a.setItem("formSubmitted"+this.formModel._id,!0);var n=this.formModel.questions.find(e=>"payment"===e.questionType);n&&n.answer&&this.$eventTrigger.fireGenericAnalyticEvent({category:"form_payment",action:n.answer.gateway,label:n.answer.currency,value:n.answer.amount}),this.startingDate&&this.$eventTrigger.fireGenericAnalyticEvent({category:"form",action:"submit",label:"sec/q",value:this.calculateCompleteTimeSeconds()/this.formModel.questions.filter(e=>!e.hidden).length}),this.$eventTrigger.fireGenericAnalyticEvent({category:"form",action:"form_answercount"});var a=()=>{this.showThankYouPage=!0,this.destroyCardDesign(),y.default.fixedExternalRedirectUrl(),parent&&parent.postMessage&&parent.postMessage("formSubmitted","*")};this.formModel.afterSubmissionSettings?this.formModel.afterSubmissionSettings.isSaveAndReturn?this.$swal(this.$t("notification.saved"),this.$t("popups.submitFormPopup.text"),"success").then(e=>{this.$route.query.resultaction?document.location.replace(this.$router.currentRoute.path):this.$router.go(this.$router.currentRoute)}):this.formModel.afterSubmissionSettings.isRedirect?this.$router.push({name:"ExternalUrlRedirect",query:{url:this.formModel.afterSubmissionSettings.redirectUrl,parentRedirect:!0}}):this.formModel.afterSubmissionSettings.showReportPage?this.$router.push({name:"FormPrivateReport",params:{formId:this.formModel._id}}):a():a()}}else{if(this.hasServerSideError=!0,i.errors)if(this.error=i.errors,"bad_user"===i.errors&&this.showReCaptchaVersion2(),i.errors.fieldErrors)for(var d=function(t){var r=i.errors.fieldErrors[t];if(Array.isArray(e.formModel.validationRules[r.fieldName]))e.$set(e.formModel.validationRules,r.fieldName,[t=>e.serverSideErrorLocalization(r.error)]);else if(r.fieldName&&e.formModel.validationRules[r.fieldName]&&e.formModel.validationRules[r.fieldName]._&&(r.dontShowMainError||e.$set(e.formModel.validationRules[r.fieldName],"_",[t=>e.serverSideErrorLocalization(r.error)])),r.subFieldErrors)for(var o=function(t){var i=r.subFieldErrors[t];e.$set(e.formModel.validationRules[r.fieldName],[i.fieldName],[t=>e.serverSideErrorLocalization(i.error)])},s=0;s<r.subFieldErrors.length;s++)o(s)},c=0;c<i.errors.fieldErrors.length;c++)d(c);else this.$goTo(this.$refs.form.offsetTop);else this.$goTo(this.$refs.form.offsetTop);this.$nextTick(()=>{this.hasServerSideError&&this.$refs.form.validate();var e=[];if(this.$refs.questions)for(var t=0;t<this.$refs.questions.length;t++){var i=this.$refs.questions[t].$el.querySelector(".invalid")||null;e.push(i)}for(var r=0;r<e.length;r++)null!==e[r]&&this.$refs.questions[r].$el.classList.add("question-error")})}}this.setAppVueVariable("showMainLoader",!1),this.submitButtonLoading=!1}else this.goToSignIn()})),function(){return G.apply(this,arguments)}),sidebarStatusChange:function(e){this.sidebars.user.isOpen=e},serverSideErrorLocalization:function(e){return y.default.serverSideErrorLocalization("questionTypes",e)},checkLocationGPS:function(e){var t={lat:e.coords.latitude,lng:e.coords.longitude},i=y.default.getLocationDistance(t,this.formModel.locationSettings);this.locationIsValid(i<this.formModel.locationSettings.radius)},checkLocationIP:(W=s()((function*(){this.locationIsValid(yield p.a.checkLocation(this.formModel.locationSettings))})),function(){return W.apply(this,arguments)}),locationIsValid:function(e){e?this.disableSubmitButton=null:this.infoMsg=this.$t("formSettings.locationSettings.notLocation"),this.verifyingLocation=!1},getMessageLabels:function(){this.formModel.userLabelSetId&&A.a.getLabelSet(this.formModel.userLabelSetId,e=>{200===e.status&&e.data&&e.data.labels&&this.setMessageLabels(e.data.labels)})},setMessageLabels:function(e){if(e){var t=JSON.parse(e);-1!==t.other.isRequired.indexOf("{field}")&&(t.other.isRequired=this.$t("isRequired"));var i=N.default.messages[N.default.locale];for(var r in t)for(var o in t[r]){for(var s=o.split("."),n=i,a=0;a<s.length-1;a++)n=n[s[a]];n[s[s.length-1]]=S.a.bbcodeToHtml(t[r][o])}N.default.setLocaleMessage(N.default.locale,i)}},isEntryAnyAnswer:function(){if(this.formModel)return JSON.stringify(this.formModel.questions.map(e=>e.answer))===this.firstAnswers},notifyImageError:function(e){if(!Y&&"dev"!==g.a.env){var t="";if(e.customErr)t=e.customErr;else{var i=e.src.split("/");t=[i[i.length-1]]}B.a.notifyImageError(this.formModel._id,{fileIds:t}),Y=!0}},saveCacheAnswer:function(){if(this.formModel.questions){for(var e={},t=0;t<this.formModel.questions.length;t++){var i=this.formModel.questions[t],r=i.questionType;(r=U[r])&&r.cacheable&&i.answer&&(e[i._id]=i.answer)}e.createDate=new Date,e.answerFiles=this.formModel.answerFiles,M.a.getItem("formAnswers-".concat(this.formModel._id))||(e.expiryDate=(new Date).getTime()+864e5*g.a.cachedAnswersTTL),M.a.setItem("formAnswers-".concat(this.formModel._id),JSON.stringify(e))}},setCacheAnswer:(H=s()((function*(e){if(!this.isPreview){var t=M.a.getItem("formAnswers-".concat(this.formModel._id));if(t){if((new Date).getTime()>t.expiryDate)return void M.a.removeItem("formAnswers-".concat(this.formModel._id));if((yield this.$swal({text:this.$t("popups.cachedAnswers.text"),showCancelButton:!0,confirmButtonText:this.$t("popups.cachedAnswers.okBtn"),cancelButtonText:this.$t("popups.cachedAnswers.resetBtn"),customClass:"swal-wide"})).isConfirmed){if(e){t?(t=JSON.parse(t),e.answerFiles=t.answerFiles):t={};var i=0;if(t)var r=setInterval(()=>{var o=e.questions[i];if(t[o._id]){var s=this.$refs.questions.find(e=>e.questionModel._id===o._id),n=o.questionType;n=U[n],o[o.questionType]&&o[o.questionType].subType&&(n=U[o[o.questionType].subType]),n&&n.setCachedAnswer?n.setCachedAnswer(s,t[o._id],o):o.answer=t[o._id]}this.checkIfQuestionTriggered(o),++i>=e.questions.length&&clearInterval(r)},50)}}else M.a.removeItem("formAnswers-".concat(this.formModel._id))}}})),function(e){return H.apply(this,arguments)}),showReCaptchaVersion2:function(){this.$set(this.formModel.baseSettings,"captchaChoice",!0),this.$set(this.reCaptcha,"verification",!1),this.$set(this.reCaptcha,"isOk",null),this.$set(this.reCaptcha,"version",2)},executeRelatedCondition:function(e,t){var i=t.questionType,r=(t[t.questionType]||{}).subType;r&&U[r].relatedCondition?U[r].relatedCondition(e,t):i&&U[i].relatedCondition&&U[i].relatedCondition(e,t)}},beforeCreate:function(){y.default.loadRecaptchaVersion(3)},created(){var e=this;return s()((function*(){var t,i,r=!1;if(Y=!1,window.onErrorImageLoad=e.notifyImageError,window.showReCaptchaVersion2=e.showReCaptchaVersion2,e.isPreview)return M.a.getItem("unsavedNewForm-"+e.id)?void document.body.classList.add("form-preview"):void(window.location.href="".concat(g.a.formProfileBaseUrl,"/form/").concat(e.id));if(e.isLocalData){var o=M.a.getItem("unsavedNewForm-"+e.id);o&&(t=JSON.parse(o))}if(e.setAppVueVariable("showMainLoader",!0),!t){var n=yield p.a.getShared(e.id,e.username,e.formUrl);if(n&&n.status){if(200===n.status)t=n.data;else if(e.setMessageLabels(n.data.messageLabelSet&&n.data.messageLabelSet.labels),e.formModel=null,e.formError=n||{},400===n.status||n.data.isSuspended)return e.$eventTrigger.fireGenericAnalyticEvent({category:"redirect",action:"phishing",label:"form_view"}),void(window.location.href=e.mainBaseUrl+"/phishing")}else n&&"Error"===n.constructor.name&&(e.formError=n.response||{}),e.formModel=null}if(t){if(e.baseFormData=JSON.parse(JSON.stringify(t)),t.questionsMap={},t.answerMap={},document.title="".concat(t.title," | forms.app"),e.$root.activeFormId=t._id,e.$root.activeFormOwnerId=t.userId,t.conversionCodes&&Array.isArray(t.conversionCodes.remarketing))for(var a=0;a<t.conversionCodes.remarketing.length;a++){var c=t.conversionCodes.remarketing[a];c&&c.provider&&l[c.provider]&&l[c.provider].init(c.code,t)}if(t.directMessageSettings)for(var u=Object.keys(t.directMessageSettings),m=0;m<u.length;m++){var f=u[m],h=t.directMessageSettings[f];if(h.isEnable){var w=O[f];w&&(h.locale=e.$root.user.info.language,h.color=t.designSettings.mainColor,w.init(h))}}var b,C,S,E=!1;if(t.questions.length<1&&(e.disableSubmitButton=""),e.paymentSuccessful=!1,e.$route.query.resultaction){var T,q={paymentsuccess:()=>{e.paymentSuccessful=!0;var t=!1;window.addEventListener("load",i=>{t||(t=!0,e.v3Token.isSubmittedBefore=!0,e.onSubmit())}),setTimeout(()=>{t||(t=!0,e.v3Token.isSubmittedBefore=!0,e.onSubmit())},700)},paymentcancel:(i=s()((function*(){T?(yield v.a.formPaymentFaild(t._id,T),e.setAppVueVariable("showMainLoader",!1),e.hasServerSideError=!0,e.error={errors:[{errorMessage:e.$t("questionTypes.payment.faild")}]}):r=!1})),function(){return i.apply(this,arguments)})};if(q[e.$route.query.resultaction]){if(r=!0,S=!0,C=e.$route.query,T=C.pid){var k=yield v.a.getFormPaymentAnswers(t._id,T);k.success&&(b=k.data.answers,t.answerFiles=k.data.answerFiles,t.publicId=k.data.publicId,k.data.reduceFromStockKey&&(C.reduceFromStockKey=k.data.reduceFromStockKey))}yield q[e.$route.query.resultaction]();var $=t.questions.find(e=>"payment"===e.questionType);$&&(e.initQuestionId=$._id),E=!0}}var I=y.default.routeGetParameters(),x=0;if(t.questions.forEach((i,r)=>{var o=U[i.questionType];if(t.baseSettings&&t.baseSettings.cardDesign&&o.hideCardDesign&&(i.hidden=!0,x++),i.conditions=[],i.displayOrder-=x,b&&o&&o.fixQuestionDefaultValueByAnswers){var s=b.find(e=>e.q===i._id);s&&o.fixQuestionDefaultValueByAnswers(i,s,C)}if(i.hidden||(i.hidden=i.hiddenQuestion),I[i._id]&&i.getValueFromUrl){var n=y.default.fixSpecialCharactersInUrlParam(I[i._id]);o.convertUrlParamsToAnswerModel?i.answer=o.convertUrlParamsToAnswerModel(i,n):i.answer=n}e.$eventTrigger.fireGenericAnalyticEvent({category:"form_view",action:"question_types",label:i.questionType}),t.questionsMap[i._id]=i,t.answerMap[i._id]=i.answer}),t.validationRules=e.getDefaultValidationRules(t.questions),e.$eventTrigger.fireGenericAnalyticEvent({category:"form",action:"form_viewcount"}),"qrcode"===e.$route.query.formsRef&&e.$eventTrigger.fireGenericAnalyticEvent({category:"form_view",action:"open_qrcode"}),Array.isArray(t.conditions))for(var F=function(i){var r=t.conditions[i];if(!Array.isArray(r.triggers))return"continue";var o=y.default.generateConditionCode(r.triggers,t.questionsMap,U);return o&&Array.isArray(r.actions)&&r.actions.length>0?(r.actions.forEach((i,o)=>{i.targetQuestionId&&i.action&&(t.questionsMap[i.targetQuestionId]?(t.questionsMap[i.targetQuestionId].hidden="hide"!==i.action,t.questionsMap[i.targetQuestionId].actions=t.questionsMap[i.targetQuestionId].actions||[],t.questionsMap[i.targetQuestionId].actions.push(i),e.executeRelatedCondition(t,t.questionsMap[i.targetQuestionId])):r.actions.splice(o,1))}),void(Array.isArray(r.triggers)&&r.triggers.forEach(e=>{e.questionId&&(null===e.answer||e.answer)&&e.case&&t.questionsMap[e.questionId].conditions.push({code:o,actions:r.actions})}))):"continue"},D=0;D<t.conditions.length;D++)F(D);if(e.formModel=t,e.getMessageLabels(),e.fixQuestionNumbers(),e.isFormLoading=!1,!E&&e.formModel.welcomePageSettings&&(e.showWelcomePage=t.welcomePageSettings.showWelcomePage),e.formModel.designSettings){if(e.formModel.designSettings.font&&d.a.load({google:{families:["".concat(e.formModel.designSettings.font,":400,500,600,700&;devanagari,latin-ext")]},events:!1,classes:!1}),e.formModel.designSettings.isEnabled||e.formModel.designSettings.themeName){var A=_.a.generateFormDesignRule(e.formModel.designSettings,e.formModel._id,e.formModel.formTempFiles);y.default.injectCss(A)}if(e.formModel.designSettings.isCustomCssEnabled){var B=_.a.generateCustomCssDesignRule(e.formModel.designSettings.customCss,e.formModel.designSettings.customCssMediaRules);y.default.injectCss(B,"custom-css")}}if(e.formModel.baseSettings=t.baseSettings||{},e.formModel.baseSettings.captchaChoice&&(e.reCaptcha.verification=!1,e.reCaptcha.isOk=null,e.reCaptcha.version=2),e.isAnswerableForm||(e.disableSubmitButton=e.infoMsg),!e.$auth.isAuthenticated()&&e.formModel.baseSettings&&e.formModel.baseSettings.requireLoginForSubmission&&e.formModel.baseSettings.showLoginBeforeForm)return void e.goToSignIn();if(!S&&e.formModel.locationSettings&&e.formModel.locationSettings.isEnable){e.disableSubmitButton="",e.verifyingLocation=!0;var L=e;!e.formModel.locationSettings.provinceCode&&e.formModel.locationSettings.lat&&navigator.geolocation?navigator.geolocation.getCurrentPosition(e.checkLocationGPS,s()((function*(){yield L.checkLocationIP()}))):yield L.checkLocationIP()}if(e.$route.query.card&&e.$set(e.formModel.baseSettings,"cardDesign",!0),e.formLoadedForCardDesign(),e.isCardDesign&&!e.showWelcomePage&&e.initCardDesign(),"true"===e.$route.query.openNewTab){e.openNewTab=!0;var P=location.href.split("?")[0];window.history.pushState("object",document.title,P)}}e.isAnswerableForm&&(window.onbeforeunload=()=>{if(e.startingDate){var t={category:"form",action:"formview_close",value:e.calculateCompleteTimeSeconds()};e.showWelcomePage&&(t.label="didnt_close_welcomepage"),e.$eventTrigger.fireGenericAnalyticEvent(t)}if(!(e.$root.isIframe||e.isEntryAnyAnswer()||e.publishDateSettingsEnabled||e.submitButtonLoading))return e.$t("unsavedChanges")}),r||e.setAppVueVariable("showMainLoader",!1),e.startingDate=new Date,y.default.fixedExternalRedirectUrl()}))()},beforeDestroy:function(){if(document.body.classList.remove("form-preview"),y.default.removeCss(),this.formModel&&this.formModel.conversionCodes&&Array.isArray(this.formModel.conversionCodes.remarketing))for(var e=0;e<this.formModel.conversionCodes.remarketing.length;e++){var t=this.formModel.conversionCodes.remarketing[e];t&&t.provider&&l[t.provider].remove(t.code,this.formModel)}},destroyed:function(){window.onbeforeunload=null,window.onErrorImageLoad=null},computed:{filteredQuestions:function(){return this.formModel.questions.filter(e=>"submitbutton"!==e.questionType&&!e.isDeleted&&!e.hidden)},isPreview(){return"true"===this.$route.query.preview},isLocalData(){return"true"===this.$route.query.localData},ownerUserPhoto:function(){if(this.ownerUser.userInfo.photo)return g.a.fileApi+"/photo/"+this.ownerUser.userInfo.photo},id:function(){return this.$route.params.id},username:function(){return this.$route.params.username},formUrl:function(){return this.$route.params.formUrl},isUserHasAnyAnswer:function(){return void 0!==this.formModel.isUserHasAnyAnswer?this.formModel.isUserHasAnyAnswer:M.a.getItem("formSubmitted"+this.formModel._id)},isAnswerableForm:function(){return!!this.formModel&&(this.formModel.baseSettings&&this.formModel.baseSettings.preventMultipleSubmissions?(this.isUserHasAnyAnswer&&(this.infoMsg=this.$t("filledFormBefore")),!this.isUserHasAnyAnswer):!this.formModel.isAnswerQuotaExceeded||(this.infoMsg=Object(n.a)("quota.302"),!1))},publishDateSettingsEnabled:function(){if(this.formError&&this.formError.data)return 301===this.formError.data.errorCode||1301===this.formError.data.errorCode},mainBaseUrl:function(){return g.a.mainBaseUrl},formShareUrl:function(){return this.$route.query.url?"".concat(g.a.formProfileBaseUrl,"/").concat(this.$route.query.url):"".concat(g.a.formProfileBaseUrl,"/form/").concat(this.id)},logo:function(){return this.formError&&this.formError.data&&this.formError.data.designSettings&&y.default.brightnessByColor(this.formError.data.designSettings.questionColor)>127?"/static/img/logo-home-white.svg":"/static/img/logo-home.svg"},formErrorData:function(){return this.formError&&this.formError.data?this.formError.data:{}}}},z=(i("5fGX"),Object(T.a)(j,r,[],!1,null,"29fb5610",null));z.options.__file="src/form/components/FormView.vue";t.default=z.exports},AQuh:function(e,t,i){},"CJ+B":function(e,t,i){"use strict";i("gqrF")},ISEw:function(e,t,i){"use strict";i("osS5")},gqrF:function(e,t,i){var r=i("LboF"),o=i("x7Iu");"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var s={insert:"head",singleton:!1};r(o,s);e.exports=o.locals||{}},lpby:function(e,t,i){},osS5:function(e,t,i){var r=i("LboF"),o=i("lpby");"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var s={insert:"head",singleton:!1};r(o,s);e.exports=o.locals||{}},piTv:function(e,t,i){var r=i("LboF"),o=i("AQuh");"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var s={insert:"head",singleton:!1};r(o,s);e.exports=o.locals||{}},sERy:function(e,t,i){"use strict";var r,o,s=i("yXPU"),n=i.n(s),a=i("12B7"),d=i("ttAG"),l=i("K/kh");t.a={saveAnswer:(o=n()((function*(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=yield this.convertAnswerModel(e,i);return o.errors?{errors:{fieldErrors:o.errors},success:!1}:(o.isReCaptcha2Validate=r,yield a.a.add(o,t))})),function(e){return o.apply(this,arguments)}),convertAnswerModel:(r=n()((function*(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en",i={formId:e._id,answers:[],answerFiles:[],captcha:e.captcha,formOwnerLang:t,publicId:e.publicId,completeSecond:e.completeSecond},r=0;r<e.questions.length;r++){var o=e.questions[r],s=l.a.getQuestionTypeByTypeName(o.questionType.toLowerCase());if(!d.default.isEmpty(s)&&!!o.hidden==!!o.hiddenQuestion&&s.questionInputToAnswerModel){var n=yield s.questionInputToAnswerModel(o,e.questions,i.formId);if(n.errors)i.errors||(i.errors=[]),i.errors.push(n.errors);else if(!d.default.isEmpty(n)&&(i.answers.push(n),s.getAnswerFileIds)){var a=s.getAnswerFileIds(n);i.answerFiles=i.answerFiles.concat(a)}}}return i})),function(e){return r.apply(this,arguments)})}},x7Iu:function(e,t,i){},yncD:function(e,t,i){},zAyf:function(e,t,i){"use strict";i("piTv")}}]);